<?xml version="1.0" encoding="UTF-8"?>
<Flow xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>59.0</apiVersion>
    <decisions>
        <name>Account_Country</name>
        <label>Corp Country</label>
        <locationX>314</locationX>
        <locationY>287</locationY>
        <defaultConnector>
            <targetReference>Billing_Country</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Other</defaultConnectorLabel>
        <rules>
            <name>United_States_Corp</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ShippingCountry</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>United States</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ShippingCountry</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>USA</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ShippingCountry</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>U.S.A.</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ShippingCountry</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>United States of America</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ShippingCountry</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>&apos;Merica</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Corp_Address_to_US</targetReference>
            </connector>
            <label>United States Corp</label>
        </rules>
        <rules>
            <name>Canada_Corp</name>
            <conditionLogic>or</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ShippingCountry</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Canada</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.ShippingCountry</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>CAN</stringValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Corp_Address_to_CA</targetReference>
            </connector>
            <label>Canada Corp</label>
        </rules>
    </decisions>
    <decisions>
        <name>Billing_Country</name>
        <label>Billing Country</label>
        <locationX>314</locationX>
        <locationY>587</locationY>
        <defaultConnector>
            <targetReference>Manifest_Country</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Other</defaultConnectorLabel>
        <rules>
            <name>United_States_Billing</name>
            <conditionLogic>(1 OR 2 OR 3 OR 4 OR 5 ) AND 6</conditionLogic>
            <conditions>
                <leftValueReference>$Record.BillingCountry</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>United States</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.BillingCountry</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>United States of America</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.BillingCountry</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>USA</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.BillingCountry</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>U.S.A.</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.BillingCountry</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>&apos;Merica</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>BillingRecordTypes</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Billing_Address_to_US</targetReference>
            </connector>
            <label>United States Billing</label>
        </rules>
        <rules>
            <name>Canada_Billing</name>
            <conditionLogic>(1 OR 2 ) AND  3</conditionLogic>
            <conditions>
                <leftValueReference>$Record.BillingCountry</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Canada</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.BillingCountry</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>CAN</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>BillingRecordTypes</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Billing_Address_to_CA</targetReference>
            </connector>
            <label>Canada Billing</label>
        </rules>
    </decisions>
    <decisions>
        <name>Cycle_Logic</name>
        <label>Cycle Logic</label>
        <locationX>314</locationX>
        <locationY>1787</locationY>
        <defaultConnectorLabel>Cycle Logic Pass</defaultConnectorLabel>
        <rules>
            <name>Cycle_Update_Needed_WIN_ID</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Cycle__c</leftValueReference>
                <operator>NotEqualTo</operator>
                <rightValue>
                    <stringValue>Committed</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.WIN_ID__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Cycle_to_Committed</targetReference>
            </connector>
            <label>Cycle Update Needed (WIN ID)</label>
        </rules>
    </decisions>
    <decisions>
        <name>Manifest_Country</name>
        <label>Manifest Country</label>
        <locationX>314</locationX>
        <locationY>887</locationY>
        <defaultConnector>
            <targetReference>PayToCountry</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Other</defaultConnectorLabel>
        <rules>
            <name>United_States_Manifest</name>
            <conditionLogic>(1 OR 2 OR 3 OR 4 OR 5 ) AND 6</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Manifest_Country_Code__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>United States</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Manifest_Country_Code__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>United States of America</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Manifest_Country_Code__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>USA</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Manifest_Country_Code__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>U.S.A.</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Manifest_Country_Code__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>&apos;Merica</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ManifestRecordTypes</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Manifest_Address_to_US</targetReference>
            </connector>
            <label>United States Manifest</label>
        </rules>
        <rules>
            <name>Canada_Manifest</name>
            <conditionLogic>(1 OR 2 ) AND 3</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Manifest_Country_Code__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Canada</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Manifest_Country_Code__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>CAN</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>ManifestRecordTypes</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_Manifest_Address_to_CA</targetReference>
            </connector>
            <label>Canada Manifest</label>
        </rules>
    </decisions>
    <decisions>
        <name>PayToCountry</name>
        <label>PayToCountry</label>
        <locationX>314</locationX>
        <locationY>1187</locationY>
        <defaultConnector>
            <targetReference>Waste_Info_Audit</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Other</defaultConnectorLabel>
        <rules>
            <name>United_States_PayTo</name>
            <conditionLogic>(1 OR 2 OR 3 OR 4 OR 5) AND 6</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Pay_To_Country_Code__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>United States</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Pay_To_Country_Code__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>United States of America</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Pay_To_Country_Code__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>USA</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Pay_To_Country_Code__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>U.S.A.</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Pay_To_Country_Code__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>&apos;Merica</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>PayToRecordTypes</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_PayTo_Address_to_US</targetReference>
            </connector>
            <label>United States PayTo</label>
        </rules>
        <rules>
            <name>Canada_PayTo</name>
            <conditionLogic>(1 OR 2) AND 3</conditionLogic>
            <conditions>
                <leftValueReference>$Record.Pay_To_Country_Code__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>Canada</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.Pay_To_Country_Code__c</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>CAN</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>PayToRecordTypes</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_PayTo_Address_to_CA</targetReference>
            </connector>
            <label>Canada PayTo</label>
        </rules>
    </decisions>
    <decisions>
        <name>Waste_Info_Audit</name>
        <label>Waste Info Audit</label>
        <locationX>314</locationX>
        <locationY>1487</locationY>
        <defaultConnector>
            <targetReference>Cycle_Logic</targetReference>
        </defaultConnector>
        <defaultConnectorLabel>Waste Info Given</defaultConnectorLabel>
        <rules>
            <name>EPA_ID_Null</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ShippingCountry</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>US</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.CS_EPA_ID__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>EpaIdAllowedRecordTypes</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>false</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_EPA_ID_to_PENDING</targetReference>
            </connector>
            <label>EPA ID Null</label>
        </rules>
        <rules>
            <name>GenReg_Null</name>
            <conditionLogic>and</conditionLogic>
            <conditions>
                <leftValueReference>$Record.ShippingCountry</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <stringValue>CA</stringValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>$Record.GENREG__c</leftValueReference>
                <operator>IsNull</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <conditions>
                <leftValueReference>GenregIdAllowedRecordTypes</leftValueReference>
                <operator>EqualTo</operator>
                <rightValue>
                    <booleanValue>true</booleanValue>
                </rightValue>
            </conditions>
            <connector>
                <targetReference>Update_GenReg_to_PENDING</targetReference>
            </connector>
            <label>GenReg Null</label>
        </rules>
    </decisions>
    <description>To fix various know data issues in the account object before insert or update.</description>
    <environments>Default</environments>
    <formulas>
        <name>BillingRecordTypes</name>
        <dataType>Boolean</dataType>
        <expression>OR({!$Record.RecordType.Name} = &apos;Customer&apos;,{!$Record.RecordType.Name} = &apos;Broker&apos;,{!$Record.RecordType.Name} = &apos;Customer Chain&apos;,{!$Record.RecordType.Name} = &apos;Distributor&apos;,{!$Record.RecordType.Name} = &apos;Key Account&apos;)</expression>
    </formulas>
    <formulas>
        <name>EpaIdAllowedRecordTypes</name>
        <dataType>Boolean</dataType>
        <expression>OR({!$Record.RecordType.Name} = &apos;Branch&apos;,{!$Record.RecordType.Name} = &apos;Corporate&apos;,{!$Record.RecordType.Name} = &apos;Facility&apos;, {!$Record.RecordType.Name} = &apos;Growth Budget&apos;)</expression>
    </formulas>
    <formulas>
        <name>GenregIdAllowedRecordTypes</name>
        <dataType>Boolean</dataType>
        <expression>OR({!$Record.RecordType.Name} = &apos;Customer&apos;,{!$Record.RecordType.Name} = &apos;Broker&apos;,{!$Record.RecordType.Name} = &apos;Customer Chain&apos;,{!$Record.RecordType.Name} = &apos;Distributor&apos;,{!$Record.RecordType.Name} = &apos;Key Account&apos;,{!$Record.RecordType.Name} = &apos;Customer Location&apos;,{!$Record.RecordType.Name} = &apos;Broker Location&apos;,{!$Record.RecordType.Name} = &apos;Chain&apos;,{!$Record.RecordType.Name} = &apos;Distributor Location&apos;)</expression>
    </formulas>
    <formulas>
        <name>ManifestRecordTypes</name>
        <dataType>Boolean</dataType>
        <expression>OR({!$Record.RecordType.Name} = &apos;Customer&apos;,{!$Record.RecordType.Name} = &apos;Broker&apos;,{!$Record.RecordType.Name} = &apos;Broker Location&apos;, {!$Record.RecordType.Name} = &apos;Customer Location&apos;, {!$Record.RecordType.Name} = &apos;Customer Chain&apos;,{!$Record.RecordType.Name} = &apos;Distributor&apos;,{!$Record.RecordType.Name} = &apos;Key Account&apos;)</expression>
    </formulas>
    <formulas>
        <name>PayToRecordTypes</name>
        <dataType>Boolean</dataType>
        <expression>OR({!$Record.RecordType.Name} = &apos;Customer&apos;,{!$Record.RecordType.Name} = &apos;Customer Chain&apos;,{!$Record.RecordType.Name} = &apos;Distributor&apos;,{!$Record.RecordType.Name} = &apos;Key Account&apos;)</expression>
    </formulas>
    <interviewLabel>Account Scrub Flow {!$Flow.CurrentDateTime}</interviewLabel>
    <label>Account Scrub Flow</label>
    <processMetadataValues>
        <name>BuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>CanvasMode</name>
        <value>
            <stringValue>AUTO_LAYOUT_CANVAS</stringValue>
        </value>
    </processMetadataValues>
    <processMetadataValues>
        <name>OriginBuilderType</name>
        <value>
            <stringValue>LightningFlowBuilder</stringValue>
        </value>
    </processMetadataValues>
    <processType>AutoLaunchedFlow</processType>
    <recordUpdates>
        <name>Update_Billing_Address_to_CA</name>
        <label>Update Billing Address to CA</label>
        <locationX>314</locationX>
        <locationY>695</locationY>
        <connector>
            <targetReference>Manifest_Country</targetReference>
        </connector>
        <inputAssignments>
            <field>BillingCountry</field>
            <value>
                <stringValue>CA</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Billing_Address_to_US</name>
        <label>Update Billing Address to US</label>
        <locationX>50</locationX>
        <locationY>695</locationY>
        <connector>
            <targetReference>Manifest_Country</targetReference>
        </connector>
        <inputAssignments>
            <field>BillingCountry</field>
            <value>
                <stringValue>US</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Corp_Address_to_CA</name>
        <label>Update Corp Address to CA</label>
        <locationX>314</locationX>
        <locationY>395</locationY>
        <connector>
            <targetReference>Billing_Country</targetReference>
        </connector>
        <inputAssignments>
            <field>ShippingCountry</field>
            <value>
                <stringValue>CA</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Corp_Address_to_US</name>
        <label>Update Corp Address to US</label>
        <locationX>50</locationX>
        <locationY>395</locationY>
        <connector>
            <targetReference>Billing_Country</targetReference>
        </connector>
        <inputAssignments>
            <field>ShippingCountry</field>
            <value>
                <stringValue>US</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Cycle_to_Committed</name>
        <label>Update Cycle to Committed</label>
        <locationX>182</locationX>
        <locationY>1895</locationY>
        <inputAssignments>
            <field>Cycle__c</field>
            <value>
                <stringValue>Committed</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_EPA_ID_to_PENDING</name>
        <label>Update EPA ID to PENDING</label>
        <locationX>50</locationX>
        <locationY>1595</locationY>
        <connector>
            <targetReference>Cycle_Logic</targetReference>
        </connector>
        <inputAssignments>
            <field>CS_EPA_ID__c</field>
            <value>
                <stringValue>PENDING</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_GenReg_to_PENDING</name>
        <label>Update GenReg to PENDING</label>
        <locationX>314</locationX>
        <locationY>1595</locationY>
        <connector>
            <targetReference>Cycle_Logic</targetReference>
        </connector>
        <inputAssignments>
            <field>GENREG__c</field>
            <value>
                <stringValue>PENDING</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Manifest_Address_to_CA</name>
        <label>Update Manifest Address to CA</label>
        <locationX>314</locationX>
        <locationY>995</locationY>
        <connector>
            <targetReference>PayToCountry</targetReference>
        </connector>
        <inputAssignments>
            <field>Manifest_Country_Code__c</field>
            <value>
                <stringValue>CA</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_Manifest_Address_to_US</name>
        <label>Update Manifest Address to US</label>
        <locationX>50</locationX>
        <locationY>995</locationY>
        <connector>
            <targetReference>PayToCountry</targetReference>
        </connector>
        <inputAssignments>
            <field>Manifest_Country_Code__c</field>
            <value>
                <stringValue>US</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_PayTo_Address_to_CA</name>
        <label>Update PayTo Address to CA</label>
        <locationX>314</locationX>
        <locationY>1295</locationY>
        <connector>
            <targetReference>Waste_Info_Audit</targetReference>
        </connector>
        <inputAssignments>
            <field>Pay_To_Country_Code__c</field>
            <value>
                <stringValue>CA</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <recordUpdates>
        <name>Update_PayTo_Address_to_US</name>
        <label>Update PayTo Address to US</label>
        <locationX>50</locationX>
        <locationY>1295</locationY>
        <connector>
            <targetReference>Waste_Info_Audit</targetReference>
        </connector>
        <inputAssignments>
            <field>Pay_To_Country_Code__c</field>
            <value>
                <stringValue>US</stringValue>
            </value>
        </inputAssignments>
        <inputReference>$Record</inputReference>
    </recordUpdates>
    <start>
        <locationX>188</locationX>
        <locationY>0</locationY>
        <connector>
            <targetReference>Account_Country</targetReference>
        </connector>
        <object>Account</object>
        <recordTriggerType>CreateAndUpdate</recordTriggerType>
        <triggerType>RecordBeforeSave</triggerType>
    </start>
    <status>Active</status>
</Flow>
